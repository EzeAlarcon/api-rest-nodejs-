<script>
	let productList = document.createElement('ul');

	const resHeaders = new Headers();
	resHeaders.append('authorization', `Bearer ${localStorage.token}`);
	
	// Consumo de la API para consultar los productos
	// Una vez ya se ha pasado por login y se tiene
	// un token vigente en local storage
	fetch('/api/product', {
		method: 'GET',
		headers: resHeaders
	})
	.then(res => res.json())
	.then(data => {
		data.products.map(product => {
			let text = document.createTextNode(product.name);
			let elem = document.createElement('li');

			elem.appendChild(text);
			productList.appendChild(elem)
		});

		document.body.appendChild(productList)
	})
</script>